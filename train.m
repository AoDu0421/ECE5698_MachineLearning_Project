I(1:480,1:640,1)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\1-11.jpg')));
I(1:480,1:640,2)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\2-11.jpg')));
I(1:480,1:640,3)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\3-11.jpg')));
I(1:480,1:640,4)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\4-11.jpg')));
I(1:480,1:640,5)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\5-11.jpg')));
I(1:480,1:640,6)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\6-11.jpg')));
I(1:480,1:640,7)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\7-11.jpg')));
I(1:480,1:640,8)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\8-11.jpg')));
I(1:480,1:640,9)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\9-11.jpg')));
I(1:480,1:640,10)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\10-11.jpg')));
I(1:480,1:640,11)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\11-11.jpg')));
I(1:480,1:640,12)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\12-11.jpg')));
I(1:480,1:640,13)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\13-11.jpg')));
I(1:480,1:640,14)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\14-11.jpg')));
I(1:480,1:640,15)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\15-11.jpg')));
I(1:480,1:640,16)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\16-11.jpg')));
I(1:480,1:640,17)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\1-12.jpg')));
I(1:480,1:640,18)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\2-12.jpg')));
I(1:480,1:640,19)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\3-12.jpg')));
I(1:480,1:640,20)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\4-12.jpg')));
I(1:480,1:640,21)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\5-12.jpg')));
I(1:480,1:640,22)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\6-12.jpg')));
I(1:480,1:640,23)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\7-12.jpg')));
I(1:480,1:640,24)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\8-12.jpg')));
I(1:480,1:640,25)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\9-12.jpg')));
I(1:480,1:640,26)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\10-12.jpg')));
I(1:480,1:640,27)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\11-12.jpg')));
I(1:480,1:640,28)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\12-12.jpg')));
I(1:480,1:640,29)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\13-12.jpg')));
I(1:480,1:640,30)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\14-12.jpg')));
I(1:480,1:640,31)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\15-12.jpg')));
I(1:480,1:640,32)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\16-12.jpg')));
I(1:480,1:640,33)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\1-13.jpg')));
I(1:480,1:640,34)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\2-13.jpg')));
I(1:480,1:640,35)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\3-13.jpg')));
I(1:480,1:640,36)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\4-13.jpg')));
I(1:480,1:640,37)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\5-13.jpg')));
I(1:480,1:640,38)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\6-13.jpg')));
I(1:480,1:640,39)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\7-13.jpg')));
I(1:480,1:640,40)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\8-13.jpg')));
I(1:480,1:640,41)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\9-13.jpg')));
I(1:480,1:640,42)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\10-13.jpg')));
I(1:480,1:640,43)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\11-13.jpg')));
I(1:480,1:640,44)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\12-13.jpg')));
I(1:480,1:640,45)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\13-13.jpg')));
I(1:480,1:640,46)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\14-13.jpg')));
I(1:480,1:640,47)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\15-13.jpg')));
I(1:480,1:640,48)=double(rgb2gray(imread('C:\Users\天舒\Desktop\part1\16-13.jpg')));
F=zeros(6400,16);
AF=zeros(6400,16);
BF=zeros(6400,16);
PLF=zeros(6400,48);
PLAF=zeros(6400,48);
PLBF=zeros(6400,48);
LF=zeros(1600,16);
LAF=zeros(1600,16);
LBF=zeros(1600,16);
LCF=zeros(1600,16);
LDF=zeros(1600,16);
LEF=zeros(1600,16);
LFF=zeros(1600,16);
LGF=zeros(1600,16);
LHF=zeros(1600,16);
LIF=zeros(1600,16);
LJF=zeros(1600,16);
LKF=zeros(1600,16);
X=zeros(1600,48);
AX=zeros(1600,48);
BX=zeros(1600,48);
CX=zeros(1600,48);
DX=zeros(1600,48);
EX=zeros(1600,48);
FX=zeros(1600,48);
GX=zeros(1600,48);
HX=zeros(1600,48);
IX=zeros(1600,48);
JX=zeros(1600,48);
KX=zeros(1600,48);
CF=zeros(320*640,16);
PLCF=zeros(320*640,48);
for i=1:16
    [F(:,i),AF(:,i),BF(:,i)]=select1((I(1:320,1:640,i)+I(1:320,1:640,i+16)+I(1:320,1:640,i+32))/3,i);
    CF(:,i)=reshape((I(1:320,1:640,i)+I(1:320,1:640,i+16)+I(1:320,1:640,i+32))/3,320*640,1);
    [LF(:,i),LAF(:,i),LBF(:,i),LCF(:,i),LDF(:,i),LEF(:,i),LFF(:,i),LGF(:,i),LHF(:,i),LIF(:,i),LJF(:,i),LKF(:,i)]=select2((I(1:320,1:640,i)+I(1:320,1:640,i+16)+I(1:320,1:640,i+32))/3);
end;
for i=1:48
    [X(:,i),AX(:,i),BX(:,i),CX(:,i),DX(:,i),EX(:,i),FX(:,i),GX(:,i),HX(:,i),IX(:,i),JX(:,i),KX(:,i)]=select2(I(1:320,1:640,i));
    [PLF(:,i),PLAF(:,i),PLBF(:,i)]=select3(I(1:320,1:640,i));
    PLCF(:,i)=reshape(I(1:320,1:640,i),320*640,1);
end
[C1,NN1]=pca(F);
[C2,NN2]=pca(AF);
[C3,NN3]=pca(BF);
[C4,NN4]=pca(CF);
[C5,NN5]=lda(LF,X);
[C6,NN6]=lda(LAF,AX);
[C7,NN7]=lda(LBF,BX);
[C8,NN8]=lda(LCF,CX);
[C9,NN9]=lda(LDF,DX);
[C10,NN10]=lda(LEF,EX);
[C11,NN11]=lda(LFF,FX);
[C12,NN12]=lda(LGF,GX);
[C13,NN13]=lda(LHF,CX);
[C14,NN14]=lda(LIF,IX);
[C15,NN15]=lda(LJF,JX);
[C16,NN16]=lda(LKF,KX);
[C17,NN17]=pcalda(PLF);
[C18,NN18]=pcalda(PLAF);
[C19,NN19]=pcalda(PLBF);
[C20,NN20]=pcalda(PLCF);

